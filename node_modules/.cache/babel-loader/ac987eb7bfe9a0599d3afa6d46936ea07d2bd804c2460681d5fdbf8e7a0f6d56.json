{"ast":null,"code":"import { createSlice, configureStore } from \"@reduxjs/toolkit\";\n//-------------------createSlice------------------------\nlet loginInitialState = {\n  login: false,\n  currentUser: {}\n};\nlet cartInitialState = {\n  list: []\n};\n//----popup----\nconst popupSlice = createSlice({\n  name: \"popup\",\n  initialState: {\n    display: false,\n    data: {}\n  },\n  reducers: {\n    SHOW_POPUP(state, actions) {\n      state.display = true;\n      state.data = actions.payload;\n    },\n    HIDE_POPUP(state) {\n      state.display = false;\n      state.data = {};\n    }\n  }\n});\n//----Login-Logout---\nconst loginSlice = createSlice({\n  name: \"login\",\n  initialState: loginInitialState,\n  reducers: {\n    ON_LOGIN(state, actions) {\n      state.login = true;\n      state.currentUser = actions.payload;\n    },\n    ON_LOGOUT(state) {\n      state.login = false;\n      state.currentUser = \"\";\n    }\n  }\n});\n//----cart-------\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: cartInitialState,\n  reducers: {\n    RESET_LIST(state) {\n      state.list = [];\n    },\n    ADD_CART(state, actions) {\n      state.list = state.list.concat(actions.payload);\n    },\n    DELETE_CART(state, actions) {\n      state.list.splice(actions.payload, 1);\n    },\n    UPDATE_CART(state, actions) {\n      //decrease\n      if (actions.payload.type === \"decrease\" && state.list[actions.payload.index].quantity !== 1) state.list[actions.payload.index].quantity -= 1;\n      //increase\n      if (actions.payload.type === \"increase\" && state.list[actions.payload.index].quantity !== 10) state.list[actions.payload.index].quantity += 1;\n    }\n  }\n});\n//-------LiveChat------\nconst chatSlice = createSlice({\n  name: \"chat\",\n  initialState: {\n    show: false\n  },\n  reducers: {\n    CLICK(state) {\n      state.show = !state.show;\n    }\n  }\n});\n//-------------------------------------------\nconst store = configureStore({\n  reducer: {\n    popup: popupSlice.reducer,\n    login: loginSlice.reducer,\n    cart: cartSlice.reducer,\n    chat: chatSlice.reducer\n  }\n});\n//---------------export----------------------------\nexport default store;\nexport const popupAction = popupSlice.actions;\nexport const loginAction = loginSlice.actions;\nexport const cartAction = cartSlice.actions;\nexport const chatAction = chatSlice.actions;\n//currentUser\nlet currentUser = localStorage.getItem(\"currentUser\");\nif (currentUser) {\n  currentUser = JSON.parse(currentUser);\n  store.dispatch(loginAction.ON_LOGIN(currentUser));\n  store.dispatch(cartAction.ADD_CART(currentUser.user.cart));\n}","map":{"version":3,"names":["createSlice","configureStore","loginInitialState","login","currentUser","cartInitialState","list","popupSlice","name","initialState","display","data","reducers","SHOW_POPUP","state","actions","payload","HIDE_POPUP","loginSlice","ON_LOGIN","ON_LOGOUT","cartSlice","RESET_LIST","ADD_CART","concat","DELETE_CART","splice","UPDATE_CART","type","index","quantity","chatSlice","show","CLICK","store","reducer","popup","cart","chat","popupAction","loginAction","cartAction","chatAction","localStorage","getItem","JSON","parse","dispatch","user"],"sources":["D:/NodeJS/ASM3/ClientApp/src/store/index.js"],"sourcesContent":["import { createSlice, configureStore } from \"@reduxjs/toolkit\";\r\n//-------------------createSlice------------------------\r\nlet loginInitialState = { login: false, currentUser: {} };\r\nlet cartInitialState = { list: [] };\r\n//----popup----\r\nconst popupSlice = createSlice({\r\n  name: \"popup\",\r\n  initialState: { display: false, data: {} },\r\n  reducers: {\r\n    SHOW_POPUP(state, actions) {\r\n      state.display = true;\r\n      state.data = actions.payload;\r\n    },\r\n    HIDE_POPUP(state) {\r\n      state.display = false;\r\n      state.data = {};\r\n    },\r\n  },\r\n});\r\n//----Login-Logout---\r\nconst loginSlice = createSlice({\r\n  name: \"login\",\r\n  initialState: loginInitialState,\r\n  reducers: {\r\n    ON_LOGIN(state, actions) {\r\n      state.login = true;\r\n      state.currentUser = actions.payload;\r\n    },\r\n    ON_LOGOUT(state) {\r\n      state.login = false;\r\n      state.currentUser = \"\";\r\n    },\r\n  },\r\n});\r\n//----cart-------\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: cartInitialState,\r\n  reducers: {\r\n    RESET_LIST(state) {\r\n      state.list = [];\r\n    },\r\n    ADD_CART(state, actions) {\r\n      state.list = state.list.concat(actions.payload);\r\n    },\r\n    DELETE_CART(state, actions) {\r\n      state.list.splice(actions.payload, 1);\r\n    },\r\n    UPDATE_CART(state, actions) {\r\n      //decrease\r\n      if (\r\n        actions.payload.type === \"decrease\" &&\r\n        state.list[actions.payload.index].quantity !== 1\r\n      )\r\n        state.list[actions.payload.index].quantity -= 1;\r\n      //increase\r\n      if (\r\n        actions.payload.type === \"increase\" &&\r\n        state.list[actions.payload.index].quantity !== 10\r\n      )\r\n        state.list[actions.payload.index].quantity += 1;\r\n    },\r\n  },\r\n});\r\n//-------LiveChat------\r\nconst chatSlice = createSlice({\r\n  name: \"chat\",\r\n  initialState: { show: false },\r\n  reducers: {\r\n    CLICK(state) {\r\n      state.show = !state.show;\r\n    },\r\n  },\r\n});\r\n//-------------------------------------------\r\nconst store = configureStore({\r\n  reducer: {\r\n    popup: popupSlice.reducer,\r\n    login: loginSlice.reducer,\r\n    cart: cartSlice.reducer,\r\n    chat: chatSlice.reducer,\r\n  },\r\n});\r\n//---------------export----------------------------\r\nexport default store;\r\nexport const popupAction = popupSlice.actions;\r\nexport const loginAction = loginSlice.actions;\r\nexport const cartAction = cartSlice.actions;\r\nexport const chatAction = chatSlice.actions;\r\n//currentUser\r\nlet currentUser = localStorage.getItem(\"currentUser\");\r\nif (currentUser) {\r\n  currentUser = JSON.parse(currentUser);\r\n  store.dispatch(loginAction.ON_LOGIN(currentUser));\r\n  store.dispatch(cartAction.ADD_CART(currentUser.user.cart));\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}